query address(
  $name: String!
  $tokensLimit: Int = 10
  $includeProfile: Boolean = false
  $includeReverseProfile: Boolean = false
  $filterSuspectedScams: Boolean = false
  $includeTokenInfo: Boolean = false
) {
  address(name: $name) {
    address
    profile @include(if: $includeProfile) {
      ...GlobalKeys
      ...CommonServiceKeys
    }
    reverseProfile @include(if: $includeReverseProfile) {
      ...GlobalKeys
      ...CommonServiceKeys
    }
    tokens(
      limit: $tokensLimit
      filter: { filterSuspectedScams: $filterSuspectedScams }
    ) @include(if: $includeTokenInfo) {
      ...TokenInfo
    }
  }
}

fragment TokenInfo on TokenMetadata {
  attributes {
    displayType
    traitType
    value
  }
  contractAddress
  description
  displayName
  id
  imageUrl
  mintedAt
  name
  originalImageUrl
  thumbnailUrl
  tokenId
  type
}

fragment GlobalKeys on Profile {
  avatar: text(key: "avatar")
  description: text(key: "description")
  display: text(key: "display")
  email: text(key: "email")
  keywords: text(key: "keywords")
  mail: text(key: "mail")
  notice: text(key: "notice")
  location: text(key: "location")
  phone: text(key: "phone")
  url: text(key: "url")
}

fragment CommonServiceKeys on Profile {
  github: text(key: "com.github")
  peepeth: text(key: "com.peepeth")
  linkedin: text(key: "com.linkedin")
  twitter: text(key: "com.twitter")
  keybase: text(key: "io.keybase")
  telegram: text(key: "org.telegram")
}
